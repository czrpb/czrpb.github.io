---
marp: true
size: 16:9
theme: uncover
class: invert
paginate: true
math: katex
style: |
  @import 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/fontawesome.min.css';
  @import 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/solid.min.css';

  section {
    font-size: 20pt;
  }

  a {
    font-size: 13pt;
  }

  .small-size {
    font-size: 8pt;
    margin: 0px;
    padding: 0px;
  }

  ul li ul li {
    font-size: 16pt;
  }

  footer {
    left: auto;
    right: auto;
    top: auto;
    bottom: auto;

    right: 20px;
    top: 20px;
  }
---

# Decorators 102: Dynamic Decorators

Quentin Crain

---

## Agenda

- Decorator Review
- Decorator Arguments
- Decorator
- Icons
    - <span class="fa-solid fa-brain"> More Education!</span>
    - <span class="fa-solid fa-laptop-code"> Practical Learning!</span>
    - <span class="fa-solid fa-virus-covid"> Bug!</span>

---

### REVIEW

```python
def div_by(x):
    def wrapped(num):
        return num / x
    return wrapped
    
>>> div_by_2 = div_by(2)
>>> div_by_5 = div_by(5)
>>> div_by_2(div_by_5(100))
10.0
>>> div_by_0 = div_by(0)
>>> div_by_0(4)
Traceback (most recent call last):
  File "<python-input-10>", line 1, in <module>
    div_by_0(4)
    ~~~~~~~~^^^
  File "<python-input-4>", line 3, in wrapped
    return num / x
           ~~~~^~~
ZeroDivisionError: division by zero
```

* 1st Class
* Closure
* <span class="fa-solid fa-virus-covid"> "wrapped"</span>

---

### Decorator: `div_by` as Decorator

<table width="100%">
<tr><td width="50%">

```python
from random import randint

def div_by_2(func):
    def wrapped():
        return func() / 2
    return wrapped

>>> @div_by_2
    def random():
        return randint(0, 10)
>>> random()
```

</td><td>

```python
from random import randint

def div_by(func, x=2):
    def wrapped():
        return func() / x
    return wrapped

>>> @div_by
    def random():
        return randint(0, 10)
>>> random()
```

</td></tr>
</table>

---

### Decorator: Oh no!

<table width="100%">
<tr><td width="50%">

```python
from random import randint

def div_by(func, x=2):
    def wrapped():
        return func() / x
    return wrapped

>>> @div_by(2)
    def random():
        return randint(0, 10)
>>> random()
```

</td><td width="50%">

```python
>>> @div_by(2)
... def random():
...     return randint(0, 10)
...
Traceback (most recent call last):
  File "<python-input-1>", line 1, in <module>
    @div_by(2)
     ~~~~~~^^^
TypeError: div_by.<locals>.wrapped() takes
0 positional arguments but 1 was given
```

</td></tr>
</table>

---

### Decorator: Decorators with Arguments

```python
from random import randint

def div_by(x):
    def the_decorator(func):
        def wrapped():
            return func() / x
        return wrapped
    return the_decorator

>>> @div_by(2)
    def random():
        return randint(0, 10)
>>> random()
```

---

# END

---
